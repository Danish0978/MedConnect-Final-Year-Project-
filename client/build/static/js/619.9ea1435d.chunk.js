/*! For license information please see 619.9ea1435d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[619],{528:(e,t,i)=>{i.d(t,{A:()=>p});var s=i(5043),a=i(6213),o=i(3768),n=i(8271),l=i(5089),r=i(9456),d=i(6760),c=i(5789),h=(i(8067),i(7070)),u=i(579);a.A.defaults.baseURL="http://127.0.0.1:3000/api";const p=()=>{const[e,t]=(0,s.useState)([]),i=(0,r.wA)(),{loading:p}=(0,r.d4)((e=>e.root)),[m,v]=(0,s.useState)(localStorage.getItem("token")||""),[x,j]=(0,s.useState)(localStorage.getItem("token")?(0,h.A)(localStorage.getItem("token")):""),g=async()=>{try{i((0,l.r1)(!0));const e=localStorage.getItem("token"),s=null!==x&&void 0!==x&&x.isSuperAdmin?"/appointment/superadmin/all":"/appointment/getallappointments",a=await(0,c.A)(s,{headers:{Authorization:`Bearer ${e}`}});t(a),i((0,l.r1)(!1))}catch(e){o.Ay.error("Failed to fetch appointments"),console.error("Fetch error:",e),i((0,l.r1)(!1))}};return(0,s.useEffect)((()=>{g()}),[null===x||void 0===x?void 0:x.isSuperAdmin]),(0,u.jsx)(u.Fragment,{children:p?(0,u.jsx)(n.A,{}):(0,u.jsxs)("section",{className:"user-section",children:[(0,u.jsx)("h3",{className:"home-sub-heading",children:null!==x&&void 0!==x&&x.isSuperAdmin?"All Appointments":"Clinic Appointments"}),e.length>0?(0,u.jsx)("div",{className:"user-container",children:(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"S.No"}),(0,u.jsx)("th",{children:"Doctor"}),(0,u.jsx)("th",{children:"Patient"}),(0,u.jsx)("th",{children:"Appointment Date"}),(0,u.jsx)("th",{children:"Time"}),(0,u.jsx)("th",{children:"Booked On"}),(0,u.jsx)("th",{children:"Status"}),(0,u.jsx)("th",{children:"Action"})]})}),(0,u.jsx)("tbody",{children:e.map(((e,t)=>{var i,s,n,l;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:t+1}),(0,u.jsxs)("td",{children:[null===e||void 0===e||null===(i=e.doctorId)||void 0===i?void 0:i.firstname," ",null===e||void 0===e||null===(s=e.doctorId)||void 0===s?void 0:s.lastname]}),(0,u.jsxs)("td",{children:[null===e||void 0===e||null===(n=e.userId)||void 0===n?void 0:n.firstname," ",null===e||void 0===e||null===(l=e.userId)||void 0===l?void 0:l.lastname]}),(0,u.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,u.jsx)("td",{children:e.time}),(0,u.jsx)("td",{children:new Date(e.createdAt).toLocaleString()}),(0,u.jsx)("td",{children:e.status}),(0,u.jsx)("td",{children:(0,u.jsx)("button",{className:"btn "+("Completed"===e.status?"disable-btn":"accept-btn"),disabled:"Completed"===e.status,onClick:()=>(async e=>{try{var t,i;await o.Ay.promise(a.A.put("/appointment/completed",{appointid:null===e||void 0===e?void 0:e._id,doctorId:null===e||void 0===e?void 0:e.doctorId._id,doctorname:`${null===e||void 0===e||null===(t=e.userId)||void 0===t?void 0:t.firstname} ${null===e||void 0===e||null===(i=e.userId)||void 0===i?void 0:i.lastname}`},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),{success:"Appointment marked as completed",error:"Failed to complete appointment",loading:"Updating appointment..."}),g()}catch(s){console.error("Completion error:",s)}})(e),children:"Completed"===e.status?"Completed":"Complete"})})]},e._id)}))})]})}):(0,u.jsx)(d.A,{})]})})}},1884:(e,t,i)=>{i.d(t,{A:()=>s});const s=(0,i(7784).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},1972:()=>{},5619:(e,t,i)=>{i.r(t),i.d(t,{default:()=>q});var s=i(5043),a=i(6213),o=i(3768),n=i(8271),l=i(5089),r=i(9456),d=i(6760),c=i(5789),h=(i(8067),i(579));a.A.defaults.baseURL="http://127.0.0.1:3000/api";const u=()=>{const[e,t]=(0,s.useState)([]),i=(0,r.wA)(),{loading:c}=(0,r.d4)((e=>e.root)),u=async e=>{try{i((0,l.r1)(!0));const{data:e}=await a.A.get("/doctor/applications",{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("API Response:",e),e.success&&t(e.data),i((0,l.r1)(!1))}catch(s){o.Ay.error("Error fetching applications")}},p=e=>{if(!e)return"N/A";const t=Object.keys(e).filter((t=>{var i;return null===(i=e[t])||void 0===i?void 0:i.isAvailable}));if(0===t.length)return"N/A";return t.map((t=>{const{startTime:i,endTime:s}=e[t];return`${t} (${i} - ${s})`})).join(", ")};return(0,s.useEffect)((()=>{u()}),[]),(0,h.jsx)(h.Fragment,{children:c?(0,h.jsx)(n.A,{}):(0,h.jsxs)("section",{className:"user-section",children:[(0,h.jsx)("h3",{className:"home-sub-heading",children:"All Applications"}),e.length>0?(0,h.jsx)("div",{className:"user-container",children:(0,h.jsxs)("table",{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"S.No"}),(0,h.jsx)("th",{children:"Pic"}),(0,h.jsx)("th",{children:"First Name"}),(0,h.jsx)("th",{children:"Last Name"}),(0,h.jsx)("th",{children:"Email"}),(0,h.jsx)("th",{children:"Mobile No."}),(0,h.jsx)("th",{children:"Experience"}),(0,h.jsx)("th",{children:"Specialization"}),(0,h.jsx)("th",{children:"Fees"}),(0,h.jsx)("th",{children:"Availability"}),(0,h.jsx)("th",{children:"Status"}),(0,h.jsx)("th",{children:"Action"})]})}),(0,h.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map(((e,t)=>{var i,s,n,l,r,d;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:t+1}),(0,h.jsx)("td",{children:(0,h.jsx)("img",{className:"user-table-pic",src:(null===e||void 0===e||null===(i=e.userId)||void 0===i?void 0:i.pic)||"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg",alt:null===e||void 0===e||null===(s=e.userId)||void 0===s?void 0:s.firstname})}),(0,h.jsx)("td",{children:null===e||void 0===e||null===(n=e.userId)||void 0===n?void 0:n.firstname}),(0,h.jsx)("td",{children:null===e||void 0===e||null===(l=e.userId)||void 0===l?void 0:l.lastname}),(0,h.jsx)("td",{children:null===e||void 0===e||null===(r=e.userId)||void 0===r?void 0:r.email}),(0,h.jsx)("td",{children:(null===e||void 0===e||null===(d=e.userId)||void 0===d?void 0:d.mobile)||"N/A"}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.experience}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.specialization}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.feePerConsultation}),(0,h.jsx)("td",{children:p(null===e||void 0===e?void 0:e.availability)}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,h.jsx)("td",{className:"select",children:"pending"===(null===e||void 0===e?void 0:e.status)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:"btn user-btn accept-btn",onClick:()=>{(async(e,t)=>{try{if(window.confirm("Are you sure you want to accept?")){const{data:i}=await o.Ay.promise(a.A.put("/doctor/acceptdoctor",{doctorId:e,clinicId:t,status:"approved"},{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}}),{success:"Application accepted",error:"Unable to accept application",loading:"Accepting application..."});u()}}catch(i){console.error("Error in acceptUser:",i),o.Ay.error("Error accepting application")}})(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.clinicId)},children:"Accept"}),(0,h.jsx)("button",{className:"btn user-btn",onClick:()=>{(async(e,t)=>{try{if(window.confirm("Are you sure you want to reject?")){const{data:i}=await o.Ay.promise(a.A.put("/doctor/rejectdoctor",{doctorId:e,clinicId:t,status:"rejected"},{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}}),{success:"Application rejected",error:"Unable to reject application",loading:"Rejecting application..."});u()}}catch(i){console.error("Error in rejectUser:",i),o.Ay.error("Error rejecting application")}})(null===e||void 0===e?void 0:e._id,null===e||void 0===e?void 0:e.clinicId)},children:"Reject"})]})})]},null===e||void 0===e?void 0:e._id)}))})]})}):(0,h.jsx)(d.A,{})]})})};var p=i(528),m=i(3216);a.A.defaults.baseURL="http://127.0.0.1:3000/api";const v=()=>{const[e,t]=(0,s.useState)([]),i=(0,r.wA)(),u=(0,m.Zp)(),{loading:p}=(0,r.d4)((e=>e.root)),v=async()=>{try{i((0,l.r1)(!0)),console.log("Fetching doctors...");const e=await(0,c.A)("/doctor/getallmydoctors");console.log("Doctors fetched successfully:",e),e.success&&e.data?t(e.data):(console.error("No data found in the response"),o.Ay.error("No doctors found")),i((0,l.r1)(!1))}catch(e){console.error("Error fetching doctors:",e),o.Ay.error("Failed to fetch doctors"),i((0,l.r1)(!1))}},x=e=>{if(!e)return"N/A";const t=Object.keys(e).filter((t=>{var i;return null===(i=e[t])||void 0===i?void 0:i.isAvailable}));if(0===t.length)return"N/A";return t.map((t=>{const{startTime:i,endTime:s}=e[t];return`${t} (${i} - ${s})`})).join(", ")};return(0,s.useEffect)((()=>{v()}),[]),(0,h.jsx)(h.Fragment,{children:p?(0,h.jsx)(n.A,{}):(0,h.jsxs)("section",{className:"user-section",children:[(0,h.jsx)("h3",{className:"home-sub-heading",children:"All Doctors"}),e.length>0?(0,h.jsx)("div",{className:"user-container",children:(0,h.jsxs)("table",{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"S.No"}),(0,h.jsx)("th",{children:"Pic"}),(0,h.jsx)("th",{children:"First Name"}),(0,h.jsx)("th",{children:"Last Name"}),(0,h.jsx)("th",{children:"Email"}),(0,h.jsx)("th",{children:"Mobile No."}),(0,h.jsx)("th",{children:"Experience"}),(0,h.jsx)("th",{children:"Specialization"}),(0,h.jsx)("th",{children:"Fees"}),(0,h.jsx)("th",{children:"Availability"}),(0,h.jsx)("th",{children:"Actions"})]})}),(0,h.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map(((e,t)=>{var i,s,n,l,r,d;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:t+1}),(0,h.jsx)("td",{children:(0,h.jsx)("img",{className:"user-table-pic",src:null===e||void 0===e||null===(i=e.userId)||void 0===i?void 0:i.pic,alt:null===e||void 0===e||null===(s=e.userId)||void 0===s?void 0:s.firstname})}),(0,h.jsx)("td",{children:null===e||void 0===e||null===(n=e.userId)||void 0===n?void 0:n.firstname}),(0,h.jsx)("td",{children:null===e||void 0===e||null===(l=e.userId)||void 0===l?void 0:l.lastname}),(0,h.jsx)("td",{children:null===e||void 0===e||null===(r=e.userId)||void 0===r?void 0:r.email}),(0,h.jsx)("td",{children:(null===e||void 0===e||null===(d=e.userId)||void 0===d?void 0:d.mobile)||"N/A"}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.experience}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.specialization}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.feePerConsultation}),(0,h.jsx)("td",{children:x(null===e||void 0===e?void 0:e.availability)}),(0,h.jsxs)("td",{className:"action-buttons",children:[(0,h.jsx)("button",{className:"admin-edit",style:{marginRight:"10px"},onClick:()=>u(`/admin/update-doctor/${null===e||void 0===e?void 0:e._id}`),children:"Edit"}),(0,h.jsx)("button",{className:"admin-delete",onClick:()=>(async e=>{try{window.confirm("Are you sure you want to delete this doctor?")&&(console.log("Deleting doctor with ID:",e),await o.Ay.promise(a.A.delete(`/doctor/deletedoctor/${e}`,{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}}),{pending:"Deleting doctor...",success:"Doctor deleted successfully",error:"Failed to delete doctor"}),console.log("Doctor deleted successfully:",e),v())}catch(t){console.error("Error deleting doctor:",t),o.Ay.error("Failed to delete doctor")}})(null===e||void 0===e?void 0:e._id),children:"Remove"})]})]},null===e||void 0===e?void 0:e._id)}))})]})}):(0,h.jsx)(d.A,{})]})})};var x=i(2820);a.A.defaults.baseURL="http://127.0.0.1:3000/api";const j=()=>{const[e,t]=(0,s.useState)([]),i=(0,r.wA)(),u=(0,m.Zp)(),{loading:p}=(0,r.d4)((e=>e.root)),v=async()=>{try{i((0,l.r1)(!0));const e=await(0,c.A)("/receptionist/get-receptionists");e.success&&e.data?t(e.data):o.Ay.error("No receptionists found"),i((0,l.r1)(!1))}catch(e){o.Ay.error("Failed to fetch receptionists"),i((0,l.r1)(!1))}};return(0,s.useEffect)((()=>{v()}),[]),(0,h.jsx)(h.Fragment,{children:p?(0,h.jsx)(n.A,{}):(0,h.jsxs)("section",{className:"user-section",children:[(0,h.jsx)("h3",{className:"home-sub-heading",children:"All Receptionists"}),e.length>0?(0,h.jsx)("div",{className:"user-container",children:(0,h.jsxs)("table",{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"S.No"}),(0,h.jsx)("th",{children:"Pic"}),(0,h.jsx)("th",{children:"First Name"}),(0,h.jsx)("th",{children:"Last Name"}),(0,h.jsx)("th",{children:"Email"}),(0,h.jsx)("th",{children:"Mobile No."}),(0,h.jsx)("th",{children:"Gender"}),(0,h.jsx)("th",{children:"Status"}),(0,h.jsx)("th",{children:"Actions"})]})}),(0,h.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map(((e,t)=>{var i,s,n,l,r,d;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:t+1}),(0,h.jsx)("td",{children:(0,h.jsx)("img",{className:"user-table-pic",src:"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg",alt:null===e||void 0===e||null===(i=e.userId)||void 0===i?void 0:i.firstname})}),(0,h.jsx)("td",{children:null===e||void 0===e||null===(s=e.userId)||void 0===s?void 0:s.firstname}),(0,h.jsx)("td",{children:null===e||void 0===e||null===(n=e.userId)||void 0===n?void 0:n.lastname}),(0,h.jsx)("td",{children:null===e||void 0===e||null===(l=e.userId)||void 0===l?void 0:l.email}),(0,h.jsx)("td",{children:(null===e||void 0===e||null===(r=e.userId)||void 0===r?void 0:r.mobile)||"N/A"}),(0,h.jsx)("td",{children:(null===e||void 0===e||null===(d=e.userId)||void 0===d?void 0:d.gender)||"N/A"}),(0,h.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,h.jsxs)("td",{className:"action-buttons",children:[(0,h.jsx)("button",{className:"admin-edit",style:{marginRight:"10px"},onClick:()=>u(`/admin/update-receptionist/${null===e||void 0===e?void 0:e._id}`),children:"Edit"}),(0,h.jsx)("button",{className:"admin-delete",onClick:()=>(async e=>{try{window.confirm("Are you sure you want to delete this receptionist?")&&(await o.Ay.promise(a.A.delete(`/receptionist/delete-receptionist/${e}`,{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}}),{pending:"Deleting receptionist...",success:"Receptionist deleted successfully",error:"Failed to delete receptionist"}),v())}catch(t){o.Ay.error("Failed to delete receptionist")}})(null===e||void 0===e?void 0:e._id),children:"Remove"})]})]},null===e||void 0===e?void 0:e._id)}))})]})}):(0,h.jsx)(d.A,{})]})})};var g=i(8783),b=i(5369),A=(i(1972),i(5475)),y=i(7149);const f=()=>{const e=(0,r.wA)(),t=(0,m.Zp)(),[i,a]=(0,s.useState)(!1),[o,n]=(0,s.useState)(!1),d=[{name:"Home",path:"/dashboard",icon:(0,h.jsx)(b.rQ8,{})},{name:"Doctors",icon:(0,h.jsx)(b.ifA,{}),submenu:[{name:"View Doctors",path:"/dashboard/doctors",icon:(0,h.jsx)(b.Ny1,{})},{name:"Add Doctor",path:"/dashboard/doctors/add",icon:(0,h.jsx)(b.OiG,{})}]},{name:"Appointments",path:"/dashboard/appointments",icon:(0,h.jsx)(b.svy,{})},{name:"Applications",path:"/dashboard/applications",icon:(0,h.jsx)(b.maD,{})},{name:"Receptionists",icon:(0,h.jsx)(b.x$1,{}),submenu:[{name:"View Receptionists",path:"/dashboard/receptionists",icon:(0,h.jsx)(b.Ny1,{})},{name:"Add Receptionist",path:"/dashboard/receptionists/add",icon:(0,h.jsx)(b.OiG,{})}]},{name:"Profile",path:"/profile",icon:(0,h.jsx)(b.x$1,{})}],c=()=>{a(!i)},u=()=>{n(!o)};return(0,h.jsx)("section",{className:"sidebar-section",children:(0,h.jsxs)("div",{className:"sidebar-container",children:[(0,h.jsx)("ul",{className:"sidebar-menu",children:d.map(((e,t)=>{if(e.submenu){const s="Doctors"===e.name,a=(e.name,s?i:o),n=s?c:u;return(0,h.jsxs)("li",{className:"menu-item",children:[(0,h.jsxs)("div",{className:"menu-link",onClick:n,children:[e.icon,(0,h.jsx)("span",{children:e.name}),a?(0,h.jsx)(y.q0c,{}):(0,h.jsx)(y.DJX,{})]}),a&&(0,h.jsx)("ul",{className:"submenu",children:e.submenu.map(((e,t)=>(0,h.jsx)("li",{children:(0,h.jsxs)(A.k2,{to:e.path,className:e=>{let{isActive:t}=e;return t?"submenu-link active":"submenu-link"},children:[e.icon,(0,h.jsx)("span",{children:e.name})]})},t)))})]},t)}return(0,h.jsx)("li",{className:"menu-item",children:(0,h.jsxs)(A.k2,{to:e.path,className:e=>{let{isActive:t}=e;return t?"menu-link active":"menu-link"},children:[e.icon,(0,h.jsx)("span",{children:e.name})]})},t)}))}),(0,h.jsxs)("div",{className:"logout-container",onClick:()=>{e((0,l.iA)({})),localStorage.removeItem("token"),t("/login")},children:[(0,h.jsx)(y.EyH,{}),(0,h.jsx)("p",{children:"Logout"})]})]})})};var N=i(19),k=i(4413),C=i(6058),w=i(7304),I=i(8706),S=i(8800),z=i(7784);const $=(0,z.A)("file-plus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]),D=(0,z.A)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);var M=i(7118),F=i(1884),E=i(6873),R=i(8646),B=i(1680),L=i(8326),_=i(7104),P=(i(7636),i(7070));a.A.defaults.baseURL="http://127.0.0.1:3000/api",w.t1.register(w.PP,w.kc,w.E8,w.Bs,w.hE,w.m_,w.s$);const U=()=>{var e,t,i,o;const n=(0,m.Zp)(),[l,r]=(0,s.useState)(localStorage.getItem("token")||""),[d,c]=(0,s.useState)(localStorage.getItem("token")?(0,P.A)(localStorage.getItem("token")):""),[u,p]=(0,s.useState)({totalDoctors:0,activeAppointments:0,pendingApplications:0,receptionists:0,loading:!0,error:null}),[v,x]=(0,s.useState)({appointments:null,specializations:null,loading:!0}),[j,g]=(0,s.useState)([]),[b,A]=(0,s.useState)(!0),y=e=>{const t=new Date,i=new Date(e),s=Math.floor((t-i)/36e5);if(s<1){const e=Math.floor((t-i)/6e4);return`${e} minute${1!==e?"s":""} ago`}if(s<24)return`${s} hour${1!==s?"s":""} ago`;{const e=Math.floor(s/24);return`${e} day${1!==e?"s":""} ago`}};(0,s.useEffect)((()=>{(async()=>{try{var e,t,i,s,o,n,l,r,d,c,u;const m=localStorage.getItem("token");if(!m)throw new Error("No authentication token found");const v={headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}},[j,b,f,N]=await Promise.all([a.A.get("/doctor/getallmydoctors",v),a.A.get("/appointment/getallappointments",v),a.A.get("/doctor/applications",v),a.A.get("/receptionist/get-receptionists",v)]);console.log("API Responses:",{doctors:j.data,appointments:b.data,applications:f.data,receptionists:N.data}),p({totalDoctors:(null===(e=j.data.data)||void 0===e?void 0:e.length)||0,activeAppointments:(null===(t=b.data)||void 0===t||null===(i=t.filter((e=>"pending"===e.status.toLowerCase())))||void 0===i?void 0:i.length)||0,pendingApplications:(null===(s=f.data.data)||void 0===s||null===(o=s.filter((e=>"pending"===e.status)))||void 0===o?void 0:o.length)||0,receptionists:(null===(n=N.data.data)||void 0===n?void 0:n.length)||0,loading:!1,error:null});const k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C=(new Date).getMonth(),w=Array.from({length:6},((e,t)=>k[(C-5+t+12)%12])),z=Array(6).fill(0);null===(l=b.data)||void 0===l||l.forEach((e=>{const t=new Date(e.date||e.createdAt),i=(C-t.getMonth()+12)%12;i<6&&z[5-i]++}));const D={};null===(r=j.data.data)||void 0===r||r.forEach((e=>{const t=e.specialization||"General";D[t]=(D[t]||0)+1})),x({appointments:{labels:w,data:z},specializations:{labels:Object.keys(D),data:Object.values(D)},loading:!1});const M=[];if((null===(d=j.data.data)||void 0===d?void 0:d.length)>0){const e=j.data.data[j.data.data.length-1];M.push({id:`doctor-${e._id}`,title:"New Doctor Joined",description:`Dr. ${e.userId.firstname} ${e.userId.lastname} (${e.specialization||"General"})`,time:y(e.createdAt),icon:(0,h.jsx)(I.A,{size:20}),iconBg:"#e0e7ff",iconColor:"#4f46e5"})}if((null===(c=b.data)||void 0===c?void 0:c.length)>0){b.data.slice(-3).reverse().forEach((e=>{var t,i;M.push({id:`appt-${e._id}`,title:"Appointment Scheduled",description:`With Dr. ${null===(t=e.doctorId)||void 0===t?void 0:t.firstname} ${null===(i=e.doctorId)||void 0===i?void 0:i.lastname} at ${e.time}`,time:y(e.createdAt),icon:(0,h.jsx)(S.A,{size:20}),iconBg:"#dbeafe",iconColor:"#3b82f6"})}))}if((null===(u=f.data.data)||void 0===u?void 0:u.length)>0){f.data.data.filter((e=>"pending"===e.status)).slice(-2).reverse().forEach((e=>{var t,i;M.push({id:`app-${e._id}`,title:"New Application",description:`From ${null===(t=e.userId)||void 0===t?void 0:t.firstname} ${null===(i=e.userId)||void 0===i?void 0:i.lastname}`,time:y(e.createdAt),icon:(0,h.jsx)($,{size:20}),iconBg:"#fef3c7",iconColor:"#d97706"})}))}g(M.sort(((e,t)=>new Date(t.time)-new Date(e.time))).slice(0,5)),A(!1)}catch(j){var m,v;console.error("Error fetching data:",j);const e=(null===(m=j.response)||void 0===m||null===(v=m.data)||void 0===v?void 0:v.message)||j.message||"Failed to fetch data";p((t=>({...t,loading:!1,error:e}))),x((e=>({...e,loading:!1}))),A(!1)}})()}),[]);const f=[{title:"Total Doctors",value:u.loading?"...":u.totalDoctors.toString(),icon:(0,h.jsx)(I.A,{size:24}),iconBg:"#e0e7ff",iconColor:"#4f46e5",barColor:"#4f46e5",link:"/dashboard/doctors",increase:8,period:"vs last month"},{title:"Active Appointments",value:u.loading?"...":u.activeAppointments.toString(),icon:(0,h.jsx)(S.A,{size:24}),iconBg:"#dbeafe",iconColor:"#3b82f6",barColor:"#3b82f6",link:"/dashboard/appointments",increase:12,period:"vs last week"},{title:"Pending Applications",value:u.loading?"...":u.pendingApplications.toString(),icon:(0,h.jsx)(D,{size:24}),iconBg:"#fef3c7",iconColor:"#d97706",barColor:"#d97706",link:"/dashboard/applications",increase:3,period:"new today"},{title:"Receptionists",value:u.loading?"...":u.receptionists.toString(),icon:(0,h.jsx)(M.A,{size:24}),iconBg:"#f3e8ff",iconColor:"#9333ea",barColor:"#9333ea",link:"/dashboard/receptionists",increase:5,period:"vs last quarter"}],N={labels:(null===(e=v.appointments)||void 0===e?void 0:e.labels)||["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Appointments",data:(null===(t=v.appointments)||void 0===t?void 0:t.data)||[0,0,0,0,0,0],backgroundColor:["rgba(79, 70, 229, 0.8)","rgba(79, 70, 229, 0.7)","rgba(79, 70, 229, 0.6)","rgba(79, 70, 229, 0.5)","rgba(79, 70, 229, 0.4)","rgba(79, 70, 229, 0.3)"],borderColor:"rgba(79, 70, 229, 1)",borderWidth:1,borderRadius:6,maxBarThickness:32}]},k={labels:(null===(i=v.specializations)||void 0===i?void 0:i.labels)||["General"],datasets:[{data:(null===(o=v.specializations)||void 0===o?void 0:o.data)||[1],backgroundColor:["rgba(79, 70, 229, 0.8)","rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(249, 115, 22, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["rgba(79, 70, 229, 1)","rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(249, 115, 22, 1)","rgba(139, 92, 246, 1)"],borderWidth:1}]},w={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:12,padding:16,font:{size:12}}},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.9)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:12},cornerRadius:6}},scales:{y:{beginAtZero:!0,grid:{display:!0,color:"rgba(229, 231, 235, 0.5)"},ticks:{font:{size:11},color:"rgba(107, 114, 128, 1)"}},x:{grid:{display:!1},ticks:{font:{size:11},color:"rgba(107, 114, 128, 1)"}}}},z=[{href:"/dashboard/doctors/add",label:"Add New Doctor",icon:(0,h.jsx)(F.A,{size:20}),bgColor:"#eef2ff",textColor:"#4338ca",borderColor:"#e0e7ff"},{href:"/dashboard/receptionists/add",label:"Add Receptionist",icon:(0,h.jsx)(E.A,{size:20}),bgColor:"#dbeafe",textColor:"#1e40af",borderColor:"#bfdbfe"},{href:"/dashboard/appointments",label:"Manage Appointments",icon:(0,h.jsx)(R.A,{size:20}),bgColor:"#ecfdf5",textColor:"#047857",borderColor:"#d1fae5"},{href:"/dashboard/applications",label:"Review Applications",icon:(0,h.jsx)(B.A,{size:20}),bgColor:"#fffbeb",textColor:"#b45309",borderColor:"#fef3c7"}];return(0,h.jsxs)("div",{className:"admin-dashboard",children:[(0,h.jsx)("header",{className:"header",children:(0,h.jsx)("div",{className:"header-container"})}),(0,h.jsxs)("main",{className:"dashboard",children:[(0,h.jsxs)("div",{className:"dashboard-header",children:[(0,h.jsx)("h1",{className:"dashboard-title",children:"Dashboard Overview"}),(0,h.jsx)("p",{className:"dashboard-subtitle",children:"Welcome back to your medical admin dashboard"})]}),(0,h.jsx)("div",{className:"stats-grid",children:f.map(((e,t)=>(0,h.jsxs)("a",{href:e.link,className:"stat-card animate-fade-in",children:[(0,h.jsxs)("div",{className:"stat-header",children:[(0,h.jsx)("div",{className:"stat-icon",style:{backgroundColor:e.iconBg,color:e.iconColor},children:e.icon}),(0,h.jsx)(L.A,{size:20,style:{color:e.iconColor}})]}),(0,h.jsxs)("div",{className:"stat-content",children:[(0,h.jsx)("p",{className:"stat-title",children:e.title}),(0,h.jsxs)("div",{className:"stat-value",children:[e.value,(0,h.jsxs)("span",{className:"stat-increase",children:["+",e.increase,"%"]})]}),(0,h.jsx)("p",{className:"stat-period",children:e.period})]}),(0,h.jsx)("div",{className:"stat-bar",style:{backgroundColor:e.barColor}})]},t)))}),(0,h.jsxs)("div",{className:"charts-grid",children:[(0,h.jsxs)("div",{className:"chart-card animate-slide-up",children:[(0,h.jsxs)("div",{className:"chart-header",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"chart-title",children:"Monthly Appointments"}),(0,h.jsx)("p",{className:"chart-subtitle",children:"Last 6 months activity"})]}),(0,h.jsxs)("div",{className:"chart-actions",children:[(0,h.jsx)("button",{className:"action-button",children:(0,h.jsx)(_.A,{size:16})}),(0,h.jsxs)("button",{className:"view-all-button",onClick:()=>n("/dashboard/appointments"),children:["View All ",(0,h.jsx)(L.A,{size:16})]})]})]}),(0,h.jsx)("div",{className:"chart-container",children:v.loading?(0,h.jsx)("div",{className:"chart-loading",children:"Loading appointments data..."}):(0,h.jsx)(C.yP,{data:N,options:{...w,plugins:{legend:{display:!1}}}})})]}),(0,h.jsxs)("div",{className:"chart-card animate-slide-up",children:[(0,h.jsxs)("div",{className:"chart-header",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"chart-title",children:"Doctors by Specialization"}),(0,h.jsx)("p",{className:"chart-subtitle",children:"Distribution across departments"})]}),(0,h.jsxs)("div",{className:"chart-actions",children:[(0,h.jsx)("button",{className:"action-button",children:(0,h.jsx)(_.A,{size:16})}),(0,h.jsxs)("button",{className:"view-all-button",onClick:()=>n("/dashboard/doctors"),children:["View All ",(0,h.jsx)(L.A,{size:16})]})]})]}),(0,h.jsx)("div",{className:"chart-container",children:v.loading?(0,h.jsx)("div",{className:"chart-loading",children:"Loading specialization data..."}):(0,h.jsx)(C.Fq,{data:k,options:{...w,cutout:"60%"}})})]})]}),(0,h.jsxs)("div",{className:"activities-container",children:[(0,h.jsxs)("div",{className:"activities-card animate-slide-up",children:[(0,h.jsxs)("div",{className:"activities-header",children:[(0,h.jsx)("h2",{className:"activities-title",children:"Recent Activities"}),(0,h.jsxs)("button",{className:"view-all-button",onClick:()=>n("/dashboard"),children:["View All ",(0,h.jsx)(L.A,{size:16})]})]}),b?(0,h.jsx)("div",{className:"activities-loading",children:"Loading activities..."}):(0,h.jsx)("div",{className:"activities-list",children:j.length>0?j.map((e=>(0,h.jsxs)("div",{className:"activity-item",children:[(0,h.jsx)("div",{className:"activity-icon",style:{backgroundColor:e.iconBg,color:e.iconColor},children:e.icon}),(0,h.jsxs)("div",{className:"activity-content",children:[(0,h.jsx)("h3",{className:"activity-title",children:e.title}),(0,h.jsx)("p",{className:"activity-description",children:e.description})]}),(0,h.jsx)("div",{className:"activity-time",children:e.time})]},e.id))):(0,h.jsx)("div",{className:"no-activities",children:"No recent activities found"})})]}),(0,h.jsxs)("div",{className:"quick-actions-card animate-slide-up",children:[(0,h.jsx)("h2",{className:"quick-actions-title",children:"Quick Actions"}),(0,h.jsx)("div",{className:"quick-actions-grid",children:z.map(((e,t)=>(0,h.jsxs)("a",{href:e.href,className:"action-link",style:{backgroundColor:e.bgColor,color:e.textColor,borderColor:e.borderColor},children:[(0,h.jsx)("div",{className:"action-icon",style:{color:e.textColor},children:e.icon}),(0,h.jsx)("span",{children:e.label})]},t)))})]})]})]})]})},q=e=>{const{type:t}=e;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("section",{className:"layout-section",children:(0,h.jsxs)("div",{className:"layout-container",children:[(0,h.jsx)(f,{}),""===t?(0,h.jsx)(U,{}):"doctors"===t?(0,h.jsx)(v,{}):"doctors/add"===t?(0,h.jsx)(x.A,{}):"doctors/edit"===t?(0,h.jsx)(N.A,{}):"applications"===t?(0,h.jsx)(u,{}):"appointments"===t?(0,h.jsx)(p.A,{}):"receptionists"===t?(0,h.jsx)(j,{}):"receptionists/add"===t?(0,h.jsx)(g.A,{}):"receptionists/edit"===t?(0,h.jsx)(k.A,{}):(0,h.jsx)(h.Fragment,{})]})})})}},7636:()=>{},8646:(e,t,i)=>{i.d(t,{A:()=>s});const s=(0,i(7784).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8800:(e,t,i)=>{i.d(t,{A:()=>s});const s=(0,i(7784).A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])}}]);
//# sourceMappingURL=619.9ea1435d.chunk.js.map