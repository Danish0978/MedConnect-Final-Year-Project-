"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[897],{4897:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var n=t(5043),r=t(3768),s=t(6213),c=t(7070),o=t(3216),l=t(579);const i=function(){const[e,a]=(0,n.useState)({name:"",address:"",licenseNumber:"",contact:{phone:"",email:""}}),t=(0,o.Zp)(),i=t=>{const{name:n,value:r}=t.target;a("phone"===n||"email"===n?{...e,contact:{...e.contact,[n]:r}}:{...e,[n]:r})};return(0,l.jsx)("section",{className:"apply-doctor-section flex-center",children:(0,l.jsxs)("div",{className:"apply-doctor-container flex-center",children:[(0,l.jsx)("h2",{className:"form-heading",children:"Register Your Pharmacy"}),(0,l.jsxs)("form",{onSubmit:async a=>{try{a.preventDefault();const{name:n,address:o,licenseNumber:l,contact:i}=e;if(!n||!o||!l||!i.phone||!i.email)return r.Ay.error("All fields are required");const m=localStorage.getItem("token"),u=(0,c.A)(m).id,{data:p}=await r.Ay.promise(s.A.post("/pharmacy/create",{...e,userId:u},{headers:{authorization:`Bearer ${m}`}}),{pending:"Registering pharmacy...",success:"Pharmacy registered successfully",error:"Unable to register pharmacy"});t("/pharmacy/dashboard")}catch(l){var n,o;console.error(l),r.Ay.error((null===(n=l.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||"Something went wrong")}},className:"register-form",children:[(0,l.jsx)("input",{type:"text",name:"name",className:"form-input",placeholder:"Pharmacy Name",value:e.name,onChange:i}),(0,l.jsx)("input",{type:"text",name:"address",className:"form-input",placeholder:"Pharmacy Address",value:e.address,onChange:i}),(0,l.jsx)("input",{type:"text",name:"licenseNumber",className:"form-input",placeholder:"License Number",value:e.licenseNumber,onChange:i}),(0,l.jsx)("input",{type:"text",name:"phone",className:"form-input",placeholder:"Contact Number",value:e.contact.phone,onChange:i}),(0,l.jsx)("input",{type:"email",name:"email",className:"form-input",placeholder:"Contact Email",value:e.contact.email,onChange:i}),(0,l.jsx)("button",{type:"submit",className:"btn form-btn",children:"Register Pharmacy"})]})]})})}}}]);
//# sourceMappingURL=897.c05cfaad.chunk.js.map