{"version":3,"file":"static/js/524.33938c38.chunk.js","mappings":"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","sources":["pages/OrderHistoryAndTrackingPage.jsx","components/FeedbackModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-hot-toast';\r\nimport { useSelector } from 'react-redux';\r\nimport Navbar from '../components/Navbar';\r\nimport Footer from '../components/Footer';\r\nimport { \r\n  FaSearch, \r\n  FaBox, \r\n  FaShippingFast, \r\n  FaCheckCircle, \r\n  FaTimesCircle,\r\n  FaInfoCircle,\r\n  FaArrowLeft,\r\n  FaStar\r\n} from 'react-icons/fa';\r\nimport FeedbackModal from '../components/FeedbackModal'; // Reuse the same modal component\r\nimport '../styles/orderHistoryTracking.css';\r\n\r\nconst OrderHistoryAndTrackingPage = () => {\r\n  const { user } = useSelector((state) => state.root);\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [feedbackModalOpen, setFeedbackModalOpen] = useState(false);\r\n  const [feedbackExists, setFeedbackExists] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchOrders = async () => {\r\n      try {\r\n        const { data } = await axios.get('/order/user', {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n        });\r\n        setOrders(data.orders);\r\n        \r\n        // Check feedback existence for each completed order\r\n        const feedbackChecks = await Promise.all(\r\n          data.orders\r\n            .filter(order => order.status === 'completed')\r\n            .map(order => \r\n              axios.get(`/feedback/exists/order/${order._id}`, {\r\n                headers: {\r\n                  Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n              })\r\n            )\r\n        );\r\n        \r\n        const feedbackMap = {};\r\n        feedbackChecks.forEach((res, index) => {\r\n          const orderId = data.orders.filter(order => order.status === 'completed')[index]._id;\r\n          feedbackMap[orderId] = res.data.exists;\r\n        });\r\n        \r\n        setFeedbackExists(feedbackMap);\r\n      } catch (error) {\r\n        toast.error(error.response?.data?.message || 'Failed to fetch orders');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const filteredOrders = orders.filter(order => \r\n    order.orderNumber.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    order.status.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'processing':\r\n        return <FaBox className=\"status-icon processing\" />;\r\n      case 'shipped':\r\n        return <FaShippingFast className=\"status-icon shipped\" />;\r\n      case 'completed':\r\n        return <FaCheckCircle className=\"status-icon completed\" />;\r\n      case 'cancelled':\r\n        return <FaTimesCircle className=\"status-icon cancelled\" />;\r\n      default:\r\n        return <FaBox className=\"status-icon\" />;\r\n    }\r\n  };\r\n\r\n  const handleViewDetails = async (orderId) => {\r\n    try {\r\n      const { data } = await axios.get(`/order/track/${orderId}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n      });\r\n      setSelectedOrder(data.order);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to fetch order details');\r\n    }\r\n  };\r\n\r\n  const handleBackToList = () => {\r\n    setSelectedOrder(null);\r\n  };\r\n\r\n  const openFeedbackModal = (order) => {\r\n    setSelectedOrder(order);\r\n    setFeedbackModalOpen(true);\r\n  };\r\n\r\n  const handleFeedbackSubmit = async () => {\r\n    try {\r\n      // Refresh orders to update feedback status\r\n      const { data } = await axios.get('/order/user', {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n      });\r\n      setOrders(data.orders);\r\n      \r\n      // Update feedback existence for this order\r\n      setFeedbackExists(prev => ({\r\n        ...prev,\r\n        [selectedOrder._id]: true\r\n      }));\r\n    } catch (error) {\r\n      console.error('Error refreshing orders:', error);\r\n    }\r\n    setFeedbackModalOpen(false);\r\n  };\r\n\r\n  if (loading) return <div className=\"loader\">Loading...</div>;\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"order-container\">\r\n        {selectedOrder ? (\r\n          <div className=\"order-detail-view\">\r\n            <button onClick={handleBackToList} className=\"back-button\">\r\n              <FaArrowLeft /> Back to Orders\r\n            </button>\r\n\r\n            <div className=\"order-header\">\r\n              <h2>Order #{selectedOrder.orderNumber}</h2>\r\n              <div className={`status-badge ${selectedOrder.status}`}>\r\n                {getStatusIcon(selectedOrder.status)}\r\n                <span>{selectedOrder.status.toUpperCase()}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"order-timeline\">\r\n              <div className=\"timeline-steps\">\r\n                <div className={`step ${['processing', 'shipped', 'completed'].includes(selectedOrder.status) ? 'active' : ''}`}>\r\n                  <div className=\"step-icon\">1</div>\r\n                  <div className=\"step-label\">Processing</div>\r\n                </div>\r\n                <div className={`step ${['shipped', 'completed'].includes(selectedOrder.status) ? 'active' : ''}`}>\r\n                  <div className=\"step-icon\">2</div>\r\n                  <div className=\"step-label\">Shipped</div>\r\n                </div>\r\n                <div className={`step ${selectedOrder.status === 'completed' ? 'active' : ''}`}>\r\n                  <div className=\"step-icon\">3</div>\r\n                  <div className=\"step-label\">Delivered</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"order-details-grid\">\r\n              <div className=\"order-items\">\r\n                <h3>Order Items</h3>\r\n                <ul>\r\n                  {selectedOrder.items.map((item, index) => (\r\n                    <li key={index}>\r\n                      <div className=\"item-details\">\r\n                        <h4>{item.medicineId.name}</h4>\r\n                        <p>Quantity: {item.quantity}</p>\r\n                        <p>Price: Rs. {item.price.toFixed(2)}</p>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n\r\n              <div className=\"order-summary\">\r\n                <h3>Order Summary</h3>\r\n                <div className=\"summary-item\">\r\n                  <span>Subtotal:</span>\r\n                  <span>Rs. {selectedOrder.subTotal.toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-item\">\r\n                  <span>Discount:</span>\r\n                  <span>-Rs. {(selectedOrder.subTotal - selectedOrder.totalAmount).toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"summary-item total\">\r\n                  <span>Total:</span>\r\n                  <span>Rs. {selectedOrder.totalAmount.toFixed(2)}</span>\r\n                </div>\r\n\r\n                {/* Add Review Button for Completed Orders */}\r\n                {selectedOrder.status === 'completed' && (\r\n                  <div className=\"review-section\">\r\n                    <button\r\n                      className={`review-btn ${\r\n                        feedbackExists[selectedOrder._id] ? 'disable-btn' : ''\r\n                      }`}\r\n                      disabled={feedbackExists[selectedOrder._id]}\r\n                      onClick={() => openFeedbackModal(selectedOrder)}\r\n                    >\r\n                      {feedbackExists[selectedOrder._id] ? (\r\n                        <>\r\n                          <FaStar /> You've reviewed this order\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <FaStar /> Leave Pharmacy Review\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"shipping-info\">\r\n                <h3>Shipping Information</h3>\r\n                <p><strong>Name:</strong> {selectedOrder.patient.firstname} {selectedOrder.patient.lastname}</p>\r\n                <p><strong>Address:</strong> {selectedOrder.shippingInfo.address}</p>\r\n                <p><strong>City:</strong> {selectedOrder.shippingInfo.city}</p>\r\n                <p><strong>Phone:</strong> {selectedOrder.shippingInfo.phone}</p>\r\n              </div>\r\n\r\n              <div className=\"pharmacy-info\">\r\n                <h3>Pharmacy Information</h3>\r\n                <p><strong>Name:</strong> {selectedOrder.pharmacy.name}</p>\r\n                <p><strong>Address:</strong> {selectedOrder.pharmacy.address}</p>\r\n                <p><strong>Phone:</strong> {selectedOrder.pharmacy.phone}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"order-list-view\">\r\n            <h2>My Orders</h2>\r\n            \r\n            <div className=\"search-bar\">\r\n              <FaSearch className=\"search-icon\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search by order number or status...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            {filteredOrders.length === 0 ? (\r\n              <div className=\"no-orders\">\r\n                <p>You haven't placed any orders yet.</p>\r\n                <button \r\n                  onClick={() => navigate('/medicines')} \r\n                  className=\"btn-primary\"\r\n                >\r\n                  Shop Now\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"orders-list\">\r\n                {filteredOrders.map((order) => (\r\n                  <div key={order._id} className=\"order-card\">\r\n                    <div className=\"order-header\">\r\n                      <span className=\"order-number\">\r\n                        #{order.orderNumber}\r\n                      </span>\r\n                      <div className={`status-badge ${order.status}`}>\r\n                        {getStatusIcon(order.status)}\r\n                        <span>{order.status.toUpperCase()}</span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"order-details\">\r\n                      <div className=\"order-date\">\r\n                        <p>Order Date: {new Date(order.createdAt).toLocaleDateString()}</p>\r\n                      </div>\r\n                      <div className=\"order-items-preview\">\r\n                        {order.items.slice(0, 3).map((item, index) => (\r\n                          <span key={index}>{item.medicineId.name}</span>\r\n                        ))}\r\n                        {order.items.length > 3 && <span>+{order.items.length - 3} more</span>}\r\n                      </div>\r\n                      <div className=\"order-total\">\r\n                        <p>Total: Rs. {order.totalAmount.toFixed(2)}</p>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"order-actions\">\r\n                      <button \r\n                        onClick={() => handleViewDetails(order._id)}\r\n                        className=\"btn-outline\"\r\n                      >\r\n                        <FaInfoCircle /> View Details\r\n                      </button>\r\n                      {order.status === 'completed' && (\r\n                        <button\r\n                          className={`review-btn ${\r\n                            feedbackExists[order._id] ? 'disable-btn' : ''\r\n                          }`}\r\n                          disabled={feedbackExists[order._id]}\r\n                          onClick={() => openFeedbackModal(order)}\r\n                        >\r\n                          {feedbackExists[order._id] ? 'Reviewed' : 'Review'}\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {feedbackModalOpen && selectedOrder && (\r\n        <FeedbackModal\r\n          order={selectedOrder}\r\n          onClose={() => setFeedbackModalOpen(false)}\r\n          onSubmit={handleFeedbackSubmit}\r\n          entityType=\"pharmacy\"\r\n          entityId={selectedOrder.pharmacy._id}\r\n        />\r\n      )}\r\n      \r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderHistoryAndTrackingPage;","import React, { useState } from 'react';\r\nimport { FaStar } from 'react-icons/fa';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport '../styles/feedback.css';\r\n\r\n// Update your existing FeedbackModal component to handle both doctor and pharmacy reviews\r\nconst FeedbackModal = ({ order, appointment, onClose, onSubmit, entityType, entityId }) => {\r\n    const [rating, setRating] = useState(0);\r\n    const [hover, setHover] = useState(null);\r\n    const [comment, setComment] = useState('');\r\n    const [submitting, setSubmitting] = useState(false);\r\n  \r\n    const entityName = entityType === 'doctor' \r\n      ? `${appointment?.doctorId?.firstname} ${appointment?.doctorId?.lastname}`\r\n      : order?.pharmacy?.name;\r\n  \r\n      const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        // Validate rating is selected\r\n        if (rating === 0) {\r\n          toast.error('Please select a rating');\r\n          return;\r\n        }\r\n      \r\n        setSubmitting(true);\r\n      \r\n        try {\r\n          // Validate we have the required data\r\n          if (!entityType) {\r\n            throw new Error('Missing entity type');\r\n          }\r\n          if (!entityId) {\r\n            throw new Error('Missing entity Id');\r\n          }\r\n          // Prepare the base payload\r\n          const payload = {\r\n            type: entityType,\r\n            entityId: entityId,\r\n            rating: rating,\r\n            comment: comment || ''\r\n          };\r\n      \r\n          // Add the reference ID based on entity type\r\n          if (entityType === 'doctor') {\r\n            if (!appointment?._id) {\r\n              throw new Error('Appointment information is missing');\r\n            }\r\n            payload.appointmentId = appointment._id;\r\n          } else {\r\n            if (!order?._id) {\r\n              throw new Error('Order information is missing');\r\n            }\r\n            payload.orderId = order._id;\r\n          }\r\n      \r\n          console.log('Submitting feedback with payload:', payload); // Debug log\r\n      \r\n          await toast.promise(\r\n            axios.post(\r\n              '/feedback/submit',\r\n              payload,\r\n              {\r\n                headers: {\r\n                  Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              }\r\n            ),\r\n            {\r\n              loading: 'Submitting feedback...',\r\n              success: 'Feedback submitted successfully!',\r\n              error: (err) => {\r\n                return err.response?.data?.message || err.message || 'Failed to submit feedback';\r\n              }\r\n            }\r\n          );\r\n          \r\n          onSubmit();\r\n        } catch (error) {\r\n          console.error('Feedback submission error:', error);\r\n          toast.error(error.message);\r\n        } finally {\r\n          setSubmitting(false);\r\n        }\r\n      };\r\n  \r\n    return (\r\n      <div className=\"feedback-modal-overlay\">\r\n        <div className=\"feedback-modal\">\r\n          <button className=\"close-btn\" onClick={onClose}>×</button>\r\n          <h2>Rate Your Experience</h2>\r\n          <p>How was your {entityType === 'doctor' ? 'appointment' : 'order'} with {entityName}?</p>\r\n          \r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"star-rating\">\r\n              {[...Array(5)].map((star, i) => {\r\n                const ratingValue = i + 1;\r\n                return (\r\n                  <label key={i}>\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"rating\"\r\n                      value={ratingValue}\r\n                      onClick={() => setRating(ratingValue)}\r\n                    />\r\n                    <FaStar\r\n                      className=\"star\"\r\n                      color={ratingValue <= (hover || rating) ? \"#ffc107\" : \"#e4e5e9\"}\r\n                      size={40}\r\n                      onMouseEnter={() => setHover(ratingValue)}\r\n                      onMouseLeave={() => setHover(null)}\r\n                    />\r\n                  </label>\r\n                );\r\n              })}\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"comment\">Your Feedback (optional)</label>\r\n              <textarea\r\n                id=\"comment\"\r\n                rows=\"4\"\r\n                value={comment}\r\n                onChange={(e) => setComment(e.target.value)}\r\n                placeholder={`Share details about your ${entityType === 'doctor' ? 'appointment' : 'order'} experience...`}\r\n              />\r\n            </div>\r\n            \r\n            <button \r\n              type=\"submit\" \r\n              className=\"submit-btn\"\r\n              disabled={rating === 0 || submitting}\r\n            >\r\n              {submitting ? 'Submitting...' : 'Submit Feedback'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default FeedbackModal;"],"names":["OrderHistoryAndTrackingPage","user","useSelector","state","root","orders","setOrders","useState","loading","setLoading","searchTerm","setSearchTerm","selectedOrder","setSelectedOrder","feedbackModalOpen","setFeedbackModalOpen","feedbackExists","setFeedbackExists","navigate","useNavigate","useEffect","async","data","axios","get","headers","Authorization","localStorage","getItem","feedbackChecks","Promise","all","filter","order","status","map","_id","feedbackMap","forEach","res","index","orderId","exists","error","_error$response","_error$response$data","toast","response","message","fetchOrders","filteredOrders","orderNumber","toLowerCase","includes","getStatusIcon","_jsx","FaBox","className","FaShippingFast","FaCheckCircle","FaTimesCircle","openFeedbackModal","children","_jsxs","_Fragment","Navbar","onClick","handleBackToList","FaArrowLeft","toUpperCase","items","item","medicineId","name","quantity","price","toFixed","subTotal","totalAmount","disabled","FaStar","patient","firstname","lastname","shippingInfo","address","city","phone","pharmacy","FaSearch","type","placeholder","value","onChange","e","target","length","Date","createdAt","toLocaleDateString","slice","_error$response2","_error$response2$data","handleViewDetails","FaInfoCircle","FeedbackModal","onClose","onSubmit","prev","console","entityType","entityId","Footer","_ref","_appointment$doctorId","_appointment$doctorId2","_order$pharmacy","appointment","rating","setRating","hover","setHover","comment","setComment","submitting","setSubmitting","entityName","doctorId","preventDefault","Error","payload","appointmentId","log","promise","post","success","err","_err$response","_err$response$data","Array","star","i","ratingValue","color","size","onMouseEnter","onMouseLeave","htmlFor","id","rows"],"sourceRoot":""}