{"version":3,"file":"static/js/897.c05cfaad.chunk.js","mappings":"4LAiIA,QA3HA,WACE,MAAOA,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,CAC7CC,KAAM,GACNC,QAAS,GACTC,cAAe,GACfC,QAAS,CACPC,MAAO,GACPC,MAAO,MAGLC,GAAWC,EAAAA,EAAAA,MAEXC,EAAeC,IACnB,MAAM,KAAET,EAAI,MAAEU,GAAUD,EAAEE,OAExBb,EADW,UAATE,GAA6B,UAATA,EACP,IACVH,EACHM,QAAS,IACJN,EAAYM,QACf,CAACH,GAAOU,IAIG,IACVb,EACH,CAACG,GAAOU,GAEZ,EA0CF,OACEE,EAAAA,EAAAA,KAAA,WAASC,UAAU,mCAAkCC,UACnDC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qCAAoCC,SAAA,EACjDF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,eAAcC,SAAC,4BAC7BC,EAAAA,EAAAA,MAAA,QAAMC,SA3COC,UACjB,IACER,EAAES,iBACF,MAAM,KAAElB,EAAI,QAAEC,EAAO,cAAEC,EAAa,QAAEC,GAAYN,EAElD,IAAKG,IAASC,IAAYC,IAAkBC,EAAQC,QAAUD,EAAQE,MACpE,OAAOc,EAAAA,GAAMC,MAAM,2BAGrB,MAAMC,EAAQC,aAAaC,QAAQ,SAE7BC,GADUC,EAAAA,EAAAA,GAAWJ,GACJK,IAEjB,KAAEC,SAAeR,EAAAA,GAAMS,QAC3BC,EAAAA,EAAMC,KACJ,mBACA,IACKjC,EACH2B,UAEF,CACEO,QAAS,CACPC,cAAe,UAAUX,OAI/B,CACEY,QAAS,0BACTC,QAAS,mCACTd,MAAO,gCAGXd,EAAS,sBACX,CAAE,MAAOc,GAAQ,IAADe,EAAAC,EACdC,QAAQjB,MAAMA,GACdD,EAAAA,GAAMC,OAAoB,QAAde,EAAAf,EAAMkB,gBAAQ,IAAAH,GAAM,QAANC,EAAdD,EAAgBR,YAAI,IAAAS,OAAN,EAAdA,EAAsBG,UAAW,uBAC/C,GAOgC1B,UAAU,gBAAeC,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SACE4B,KAAK,OACLxC,KAAK,OACLa,UAAU,aACV4B,YAAY,gBACZ/B,MAAOb,EAAYG,KACnB0C,SAAUlC,KAEZI,EAAAA,EAAAA,KAAA,SACE4B,KAAK,OACLxC,KAAK,UACLa,UAAU,aACV4B,YAAY,mBACZ/B,MAAOb,EAAYI,QACnByC,SAAUlC,KAEZI,EAAAA,EAAAA,KAAA,SACE4B,KAAK,OACLxC,KAAK,gBACLa,UAAU,aACV4B,YAAY,iBACZ/B,MAAOb,EAAYK,cACnBwC,SAAUlC,KAEZI,EAAAA,EAAAA,KAAA,SACE4B,KAAK,OACLxC,KAAK,QACLa,UAAU,aACV4B,YAAY,iBACZ/B,MAAOb,EAAYM,QAAQC,MAC3BsC,SAAUlC,KAEZI,EAAAA,EAAAA,KAAA,SACE4B,KAAK,QACLxC,KAAK,QACLa,UAAU,aACV4B,YAAY,gBACZ/B,MAAOb,EAAYM,QAAQE,MAC3BqC,SAAUlC,KAEZI,EAAAA,EAAAA,KAAA,UAAQ4B,KAAK,SAAS3B,UAAU,eAAcC,SAAC,6BAOzD,C","sources":["pages/RegisterPharmacy.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction RegisterPharmacy() {\r\n  const [formDetails, setFormDetails] = useState({\r\n    name: \"\",\r\n    address: \"\",\r\n    licenseNumber: \"\",\r\n    contact: {\r\n      phone: \"\",\r\n      email: \"\"\r\n    }\r\n  });\r\n  const navigate = useNavigate();\r\n  \r\n  const inputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name === \"phone\" || name === \"email\") {\r\n      setFormDetails({\r\n        ...formDetails,\r\n        contact: {\r\n          ...formDetails.contact,\r\n          [name]: value\r\n        }\r\n      });\r\n    } else {\r\n      setFormDetails({\r\n        ...formDetails,\r\n        [name]: value,\r\n      });\r\n    }\r\n  };\r\n\r\n  const formSubmit = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      const { name, address, licenseNumber, contact } = formDetails;\r\n      \r\n      if (!name || !address || !licenseNumber || !contact.phone || !contact.email) {\r\n        return toast.error(\"All fields are required\");\r\n      }\r\n  \r\n      const token = localStorage.getItem(\"token\");\r\n      const decoded = jwt_decode(token);\r\n      const userId = decoded.id;\r\n  \r\n      const { data } = await toast.promise(\r\n        axios.post(\r\n          \"/pharmacy/create\",\r\n          {\r\n            ...formDetails,\r\n            userId\r\n          },\r\n          {\r\n            headers: {\r\n              authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        ),\r\n        {\r\n          pending: \"Registering pharmacy...\",\r\n          success: \"Pharmacy registered successfully\",\r\n          error: \"Unable to register pharmacy\",\r\n        }\r\n      );\r\n      navigate(\"/pharmacy/dashboard\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(error.response?.data?.message || \"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"apply-doctor-section flex-center\">\r\n      <div className=\"apply-doctor-container flex-center\">\r\n        <h2 className=\"form-heading\">Register Your Pharmacy</h2>\r\n        <form onSubmit={formSubmit} className=\"register-form\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            className=\"form-input\"\r\n            placeholder=\"Pharmacy Name\"\r\n            value={formDetails.name}\r\n            onChange={inputChange}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"address\"\r\n            className=\"form-input\"\r\n            placeholder=\"Pharmacy Address\"\r\n            value={formDetails.address}\r\n            onChange={inputChange}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"licenseNumber\"\r\n            className=\"form-input\"\r\n            placeholder=\"License Number\"\r\n            value={formDetails.licenseNumber}\r\n            onChange={inputChange}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"phone\"\r\n            className=\"form-input\"\r\n            placeholder=\"Contact Number\"\r\n            value={formDetails.contact.phone}\r\n            onChange={inputChange}\r\n          />\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            className=\"form-input\"\r\n            placeholder=\"Contact Email\"\r\n            value={formDetails.contact.email}\r\n            onChange={inputChange}\r\n          />\r\n          <button type=\"submit\" className=\"btn form-btn\">\r\n            Register Pharmacy\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default RegisterPharmacy;"],"names":["formDetails","setFormDetails","useState","name","address","licenseNumber","contact","phone","email","navigate","useNavigate","inputChange","e","value","target","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","toast","error","token","localStorage","getItem","userId","jwt_decode","id","data","promise","axios","post","headers","authorization","pending","success","_error$response","_error$response$data","console","response","message","type","placeholder","onChange"],"sourceRoot":""}